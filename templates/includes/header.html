{% load i18n %}

<header>
    <div class="flex justify-between gap-2 mb-4">
        <div>
            <a href="{% url "common:home" %}"
               class="flex items-center justify-center bg-gray-100 rounded-full w-10 h-10 text-gray-500"
               aria-label="{% trans "Home Page" %}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M18.9821 10C18.9821 10.5625 18.5133 11 17.9821 11H16.9821L17.0133 16C17.0133 16.0938 17.0133 16.1875 17.0133 16.25V16.75C17.0133 17.4688 16.4508 18 15.7633 18H15.2633C15.2008 18 15.1696 18 15.1383 18C15.1071 18 15.0446 18 15.0133 18H13.2633C12.5446 18 12.0133 17.4688 12.0133 16.75V14C12.0133 13.4688 11.5446 13 11.0133 13H9.01331C8.45081 13 8.01331 13.4688 8.01331 14V16.75C8.01331 17.4688 7.45081 18 6.76331 18H5.01331C4.95081 18 4.91956 18 4.85706 18C4.82581 18 4.79456 18 4.76331 18H4.26331C3.54456 18 3.01331 17.4688 3.01331 16.75V13.25C3.01331 13.25 3.01331 13.2188 3.01331 13.1875V11H2.01331C1.45081 11 1.01331 10.5625 1.01331 10C1.01331 9.71875 1.10706 9.46875 1.32581 9.25L9.32581 2.28125C9.54456 2.0625 9.79456 2 10.0133 2C10.2321 2 10.4821 2.09375 10.6696 2.25L18.6383 9.25C18.8883 9.46875 19.0133 9.71875 18.9821 10Z"/>
                </svg>
            </a>
        </div>

        <div>
            <div
                    x-data="{
                open: false,
                toggle() {
                    if (this.open) {
                        return this.close()
                    }

                    this.$refs.button.focus()

                    this.open = true
                },
                close(focusAfter) {
                    if (! this.open) return

                    this.open = false

                    focusAfter && focusAfter.focus()
                }
            }"
                    x-on:keydown.escape.prevent.stop="close($refs.button)"
                    x-on:focusin.window="! $refs.panel.contains($event.target) && close()"
                    x-id="['dropdown-button']"
                    class="relative">
                <button
                        x-ref="button"
                        x-on:click="toggle()"
                        :aria-expanded="open"
                        :aria-controls="$id('dropdown-button')"
                        type="button"
                        class="flex items-center justify-center bg-gray-100 rounded-full w-10 h-10 text-gray-500"
                        aria-label="Sahifani ulashing">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M15 12.9922V14.9922C15 15.5547 14.5312 15.9922 14 15.9922H6C5.4375 15.9922 5 15.5547 5 14.9922V12.9922C5 12.4609 4.53125 11.9922 4 11.9922C3.4375 11.9922 3 12.4609 3 12.9922V14.9922C3 16.6797 4.3125 17.9922 6 17.9922H14C15.6562 17.9922 17 16.6797 17 14.9922V12.9922C17 12.4609 16.5312 11.9922 16 11.9922C15.4375 11.9922 15 12.4609 15 12.9922ZM9.28125 2.30469L5.28125 6.30469C4.875 6.67969 4.875 7.33594 5.28125 7.71094C5.65625 8.11719 6.3125 8.11719 6.6875 7.71094L9 5.42969V11.9922C9 12.5547 9.4375 12.9922 10 12.9922C10.5312 12.9922 11 12.5547 11 11.9922V5.42969L13.2812 7.71094C13.6562 8.11719 14.3125 8.11719 14.6875 7.71094C15.0938 7.33594 15.0938 6.67969 14.6875 6.30469L10.6875 2.30469C10.3125 1.89844 9.65625 1.89844 9.28125 2.30469Z"/>
                    </svg>
                </button>

                <div
                        x-ref="panel"
                        x-show="open"
                        x-transition.origin.top.right
                        x-on:click.outside="close($refs.button)"
                        :id="$id('dropdown-button')"
                        style="display: none;"
                        class="absolute -right-2 mt-2 w-64">
                    <div class="bg-white rounded-2xl shadow overflow-hidden">
                        <ul class="list-none divide-y divide-gray-200 text-gray-500">
                            <li class="">
                                <a href="https://telegram.me/share/url?url=https%3A%2F%2Fismlar.buzruk.uz"
                                   class="flex items-center p-4 gap-2" target="_blank">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M10 2.25C5.71875 2.25 2.25 5.75 2.25 10C2.25 14.2812 5.71875 17.75 10 17.75C14.25 17.75 17.75 14.2812 17.75 10C17.75 5.75 14.25 2.25 10 2.25ZM13.5625 7.53125C13.4688 8.75 12.9688 11.75 12.6875 13.0938C12.5938 13.6875 12.375 13.875 12.1562 13.9062C11.7188 13.9375 11.375 13.5938 10.9375 13.3125C10.25 12.875 9.875 12.5938 9.21875 12.1562C8.4375 11.6562 8.9375 11.375 9.375 10.9375C9.5 10.8125 11.4688 9 11.5 8.84375C11.5312 8.8125 11.5312 8.75 11.4688 8.6875C11.4375 8.65625 11.375 8.6875 11.3125 8.6875C11.25 8.6875 10.1562 9.40625 8.0625 10.8438C7.75 11.0625 7.46875 11.1562 7.21875 11.1562C6.9375 11.1562 6.40625 11 6 10.875C5.53125 10.7188 5.125 10.625 5.15625 10.375C5.1875 10.2188 5.375 10.0938 5.75 9.9375C8 8.9375 9.5 8.3125 10.25 8C12.4062 7.09375 12.875 6.9375 13.1562 6.9375C13.2188 6.9375 13.375 6.9375 13.4688 7.03125C13.5 7.0625 13.5625 7.15625 13.5625 7.21875C13.5938 7.34375 13.5938 7.4375 13.5625 7.53125Z"/>
                                    </svg>
                                    <span>Telegram</span>
                                </a>
                            </li>
                            {#                            <li class="">#}
                            {#                                <a href="https://www.facebook.com/dialog/share?app_id=227489304525  285&display=popup&href=https%3A%2F%2Fismlar.com"#}
                            {#                                   class="flex items-center p-4 gap-2" target="_blank">#}
                            {#                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">#}
                            {#                                        <path#}
                            {#                                                d="M17.75 10.0469C17.75 5.76562 14.2812 2.29688 10 2.29688C5.71875 2.29688 2.25 5.76562 2.25 10.0469C2.25 13.9219 5.0625 17.1406 8.78125 17.7031V12.2969H6.8125V10.0469H8.78125V8.35938C8.78125 6.42188 9.9375 5.32812 11.6875 5.32812C12.5625 5.32812 13.4375 5.48438 13.4375 5.48438V7.39062H12.4688C11.5 7.39062 11.1875 7.98438 11.1875 8.60938V10.0469H13.3438L13 12.2969H11.1875V17.7031C14.9062 17.1406 17.75 13.9219 17.75 10.0469Z"/>#}
                            {#                                    </svg>#}
                            {#                                    <span>Facebook</span>#}
                            {#                                </a>#}
                            {#                            </li>#}
                            <li class="lg:hidden">
                                <button class="flex items-center p-4 gap-2 share-btn w-full" id="btn"
                                        aria-label="Share the page">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M5.39062 6.10928C7.14062 4.35928 10.0156 4.35928 11.7656 6.10928C13.3281 7.67178 13.5469 10.1405 12.2656 11.953L12.2344 11.9843C11.9219 12.453 11.2969 12.5468 10.8281 12.2343C10.3906 11.8905 10.2656 11.2655 10.6094 10.828L10.6406 10.7968C11.3594 9.76553 11.2344 8.42178 10.3594 7.54678C9.39062 6.54678 7.79688 6.54678 6.79688 7.54678L3.29688 11.0468C2.29688 12.0155 2.29688 13.6093 3.29688 14.6093C4.17188 15.4843 5.54688 15.578 6.54688 14.8905L6.57812 14.828C7.04688 14.5155 7.67188 14.6093 7.98438 15.078C8.29688 15.5155 8.20312 16.1405 7.76562 16.4843L7.70312 16.5155C5.89062 17.7968 3.45312 17.578 1.89062 16.0155C0.109375 14.2655 0.109375 11.3905 1.89062 9.64053L5.39062 6.10928ZM14.6094 13.8593C12.8594 15.6405 9.98438 15.6405 8.23438 13.8593C6.67188 12.2968 6.45312 9.85928 7.73438 8.04678L7.76562 8.01553C8.07812 7.54678 8.70312 7.45303 9.17188 7.76553C9.60938 8.07803 9.73438 8.70303 9.39062 9.17178L9.35938 9.20303C8.64062 10.203 8.76562 11.578 9.64062 12.453C10.6094 13.453 12.2031 13.453 13.2031 12.453L16.7031 8.95303C17.7031 7.95303 17.7031 6.35928 16.7031 5.39053C15.8281 4.51553 14.4531 4.39053 13.4531 5.10928L13.4219 5.14053C12.9531 5.48428 12.3281 5.35928 12.0156 4.92178C11.7031 4.48428 11.7969 3.85928 12.2344 3.51553L12.2969 3.48428C14.1094 2.20303 16.5469 2.42178 18.1094 3.98428C19.8906 5.73428 19.8906 8.60928 18.1094 10.3593L14.6094 13.8593Z"/>
                                    </svg>
                                    <span>Share the page </span>
                                </button>

                                <script>
                                    const shareBtn = document.querySelector(".share-btn");

                                    shareBtn.addEventListener("click", () => {
                                        if (navigator.share) {
                                            navigator
                                                .share({
                                                    title: "ismlar.buzruk.uz",
                                                    text: "The meaning of the world names",
                                                    url: window.location.href,
                                                })
                                                .then(() => {
                                                    console.log("Thanks for sharing!");
                                                })
                                                .catch((err) => {
                                                    console.log("Couldn't share because of", err.message);
                                                });
                                        } else {
                                            console.log("web share not supported");
                                        }
                                    });
                                </script>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

